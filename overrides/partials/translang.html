{% macro get_curlang() %}
  {% set langs = [] %}
  {% set cur_lang = 'null' %}

  {% for alt in config.extra.alternate %}
    {{ langs.append(alt.lang) }}
  {% endfor %}

  {% if page %}
    {% set url_list = page.url.split('/') %}
    {% if url_list[0] in langs %}
      {% set cur_lang = url_list[0] %}
    {% endif %}
  {% else %}
    {% set url_list = [] %}
  {% endif %}

  {{ cur_lang }}
{% endmacro %}